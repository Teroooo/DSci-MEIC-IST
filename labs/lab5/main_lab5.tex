\documentclass[10pt]{extarticle}
\renewcommand{\arraystretch}{1.5}
\renewcommand{\baselinestretch}{1.5}
\usepackage[onehalfspacing]{setspace}
\setlength{\parindent}{0em}
\setlength{\parskip}{0.2em}
\font\myfont=cmr12 at 26pt
\usepackage{anyfontsize}
\usepackage{tabularx}
\usepackage{multirow}
\pagenumbering{arabic} 
\usepackage{soul}
\usepackage{xcolor}
\usepackage[T1]{fontenc}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{blindtext}
\usepackage{titling}
\setlength{\droptitle}{-14em}   % This is your set screw
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{float}
\usepackage{eso-pic}
\graphicspath{ {./images/} }
\usepackage{subcaption}
\usepackage{geometry}
\usepackage[section]{placeins}
\geometry{margin=2cm, bmargin=2cm, tmargin=3cm}

\newcommand{\ctext}[3][RGB]{%
  \begingroup
  \definecolor{hlcolor}{#1}{#2}\sethlcolor{hlcolor}%
  \hl{#3}%
  \endgroup
}


\begin{document}


\AddToShipoutPictureBG*{
\AtPageUpperLeft{
\hspace{19.5cm}
\raisebox{-2.5cm}{\makebox[0pt][r]{\fontsize{36}{1cm}\selectfont DS 2025\par}}}}

\AddToShipoutPictureBG*{
\AtPageUpperLeft{
\hspace{6.5cm}
\raisebox{-3.5cm}{
\makebox[0pt][r]{ 
\includegraphics[scale=0.95]{tecnico_logo.jpg}\\[3cm]}}}}

\title{{\myfont Data Science Project}}  % Title
\setlength{\droptitle}{1cm}

\date{\vspace{12ex}} % Date for the report, skipped and used to adjust height
\maketitle % Insert the title, author and date
\begin{center}
    %\setlength\extrarowheight{7pt}
    \begin{tabular}{ |l|l l|l| }
        \hline
        \multirow{4}{6em}{\textbf{Team nr: } 16} & \textbf{Student 1: } Antero Morgado & \textbf{IST nr: } 1119213\\
        & \textbf{Student 2: } David Ferreira & \textbf{IST nr:} 1107077 \\
        & \textbf{Student 3: } Jos√© Fernandes & \textbf{IST nr: } 1103727 \\
        & \textbf{Student 4: } Olha Buts & \textbf{IST nr: } 1116276 \\
        \hline
    \end{tabular}
\end{center}

\begin{center}
	\section*{\fontsize{0.75cm}{1cm}\selectfont TIME SERIES ANALYSIS}
\end{center}

\section{DATA PROFILING}

\subsection*{\textit{Data Dimensionality and Granularity}}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{dimensionality/traffic_record.png}
\caption{Time series 1 at the most granular detail}
\end{figure}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{dimensionality/traffic_daily.png}
\caption{Time series 1 at the second chosen granularity}
\end{figure}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{dimensionality/traffic_weekly.png}
\caption{Time series 1 at the third chosen granularity}
\end{figure}

\subsection*{\textit{Data Distribution}}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{data_distribution/5number_summary.png}
\caption{Boxplot(s) for time series 1}
\end{figure}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{data_distribution/distributions.png}
\caption{Histogram(s) for time series 1}
\end{figure}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{data_distribution/lagged_series.png}
\caption{Autocorrelation lag-plots for original time series 1}
\end{figure}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{data_distribution/autocorrelation_study.png}
\caption{Autocorrelation correlogram for original time series 1}
\end{figure}

\subsection*{\textit{Data Stationarity}}

\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{data_stationarity/components_daily.png}
\caption{Components study for time series 1}
\end{figure}


\begin{figure}[H]
\centering\includegraphics[width=0.7\textwidth]{data_stationarity/stationarity_overall_mean.png}
\caption{Stationarity study for time series 1}
\end{figure}

\subsection*{\textit{Augmented Dickey-Fuller Test Results:}}

\textit{Original (15-min):}
\begin{itemize}
    \item ADF Statistic: -14.441
    \item p-value: 0.000
    \item Critical Values: 1\%: -3.431, 5\%: -2.862, 10\%: -2.567
    \item \textbf{The series IS stationary}
\end{itemize}

\textit{Hourly:}
\begin{itemize}
    \item ADF Statistic: -8.903
    \item p-value: 0.000
    \item Critical Values: 1\%: -3.435, 5\%: -2.864, 10\%: -2.568
    \item \textbf{The series IS stationary}
\end{itemize}

\textit{Daily:}
\begin{itemize}
    \item ADF Statistic: -0.826
    \item p-value: 0.811
    \item Critical Values: 1\%: -3.548, 5\%: -2.913, 10\%: -2.594
    \item \textbf{The series IS NOT stationary}
\end{itemize}
\section{PREPARATION}

\subsection{Scaling}

\begin{figure}[H]
\centering
\begin{subfigure}{0.8\textwidth}
    \centering
    \includegraphics[width=\textwidth]{preparation/scaling/Traffic_before_scaling.png}
    \caption{Before scaling}
\end{subfigure}
\par\bigskip
\begin{subfigure}{0.8\textwidth}
    \centering
    \includegraphics[width=\textwidth]{preparation/scaling/Traffic_after_scaling.png}
    \caption{After StandardScaler()}
\end{subfigure}
\caption{Effect of StandardScaler on the original 15-minute time series}
\end{figure}

\subsection{Aggregation}

\subsubsection{Approach 0: No Aggregation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/scaling/Traffic_after_scaling.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_forecast_No Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_evaluation_No Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_eval_No Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_forecast__No Aggregation.png}\end{figure}

\subsubsection{Approach 1: Hourly Aggregation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_hourly_aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_forecast_Hourly Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_evaluation_Hourly Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_eval_Hourly Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_forecast__Hourly Aggregation.png}\end{figure}

\subsubsection{Approach 2: Daily Aggregation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_daily_aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_forecast_Daily Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_evaluation_Daily Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_eval_Daily Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_forecast__Daily Aggregation.png}\end{figure}

\subsubsection{Approach 3: Weekly Aggregation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_weekly_aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_forecast_Weekly Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_evaluation_Weekly Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_eval_Weekly Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_forecast__Weekly Aggregation.png}\end{figure}

\subsubsection{Approach 4: 30min Aggregation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_30min_aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_forecast_30min Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_linear_regression_evaluation_30min Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_eval_30min Aggregation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/aggregation/traffic_persistence_optim_forecast__30min Aggregation.png}\end{figure}


\subsection{Differentiation}

\subsubsection{Approach 1: No differentiation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_no_diff.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_linear_regression_forecast_No Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_linear_regression_evaluation_No Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_persistence_optim_eval_No Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_persistence_optim_forecast__No Differentiation.png}\end{figure}

\subsubsection{Approach 2: First differentiation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_first_diff.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_linear_regression_forecast_First Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_linear_regression_evaluation_First Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_persistence_optim_eval_First Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_persistence_optim_forecast__First Differentiation.png}\end{figure}

\subsubsection{Approach 3: Second differentiation}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_second_diff.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_linear_regression_forecast_Second Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_linear_regression_evaluation_Second Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_persistence_optim_eval_Second Differentiation.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/differentiation/traffic_persistence_optim_forecast__Second Differentiation.png}\end{figure}

\subsection{Smoothing}

\subsubsection{Approach 1: Smoothing Size 3}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_smoothed_size_3.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_forecast_Smoothing Size 3.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_evaluation_Smoothing Size 3.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_eval_Smoothing Size 3.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_forecast__Smoothing Size 3.png}\end{figure}

\subsubsection{Approach 2: Smoothing Size 5}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_smoothed_size_5.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_forecast_Smoothing Size 5.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_evaluation_Smoothing Size 5.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_eval_Smoothing Size 5.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_forecast__Smoothing Size 5.png}\end{figure}

\subsubsection{Approach 3: Smoothing Size 10}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_smoothed_size_10.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_forecast_Smoothing Size 10.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_evaluation_Smoothing Size 10.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_eval_Smoothing Size 10.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_forecast__Smoothing Size 10.png}\end{figure}

\subsubsection{Approach 4: Smoothing Size 15}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_smoothed_size_15.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_forecast_Smoothing Size 15.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_linear_regression_evaluation_Smoothing Size 15.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_eval_Smoothing Size 15.png}\end{figure}
\begin{figure}[H]\centering\includegraphics[width=0.8\textwidth]{preparation/smoothing/traffic_persistence_optim_forecast__Smoothing Size 15.png}\end{figure}

\subsection*{Best Configuration}

\begin{center}
\begin{tabular}{|l|c|}
\hline
\textbf{Transformation}         & \textbf{Best Configuration}                  \\
\hline
Scaling                         & StandardScaler()                              \\
Aggregation                     & 30-minute aggregation                         \\
Differentiation                 & No differentiation                            \\
Smoothing                       & Rolling window size = 10                      \\
\hline
\textbf{Best overall approach}  & \textbf{30min Aggregation + No differentiation + Smoothing Size 10 + StandardScaler()} \\
\hline
\end{tabular}
\end{center}

\section{Deployment}

\begin{figure}[H]
\centering\includegraphics[width=0.8\textwidth]{deploy/diagram.jpeg}
\caption{Architecture diagram}
\end{figure}

\begin{figure}[H]
\centering\includegraphics[width=0.8\textwidth]{deploy/file_structure.jpeg}
\caption{File formats}
\end{figure}

\end{document}